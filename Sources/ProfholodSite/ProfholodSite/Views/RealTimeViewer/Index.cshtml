
@{
    ViewBag.Title = "Index";
}

<title id='Description'>jqxChart Line Series Example. Each line serie is displaying data from a separate Array</title>

<div style='height: 600px; width: 682px;'>

    <div id='host' style="margin: 0 auto; width: 850px; height: 400px;">

        <div id='jqxChart' style="width: 850px; height: 400px; position: relative; left: 0px; top: 0px;">

        </div>

    </div>

</div>



    <script type="text/javascript">

        // prepare chart data as an array
        var source =

            {

                dataType: "json",
                async: false,

                dataFields: [

                    { name: 'RecordTime' },

                    { name: 'setMeterialA', type: 'float' },

                    { name: 'realMeterialA', type: 'float' },

                    { name: 'errorMeterialA', type: 'float' },

                    { name: 'errorMeterialA_Percent', type: 'float' }
                    
                    
                ],

                id: 'Id',

                url: 'GetDataJson'

                 


            };

        var dataAdapter = new $.jqx.dataAdapter(source);

            // prepare jqxChart settings

            var settings = {

                title: "Материал A",

                description: "Time spent in vigorous exercise",

                enableAnimations: false,

                enableCrosshairs: false,

                showLegend: true,

                padding: { left: 5, top: 5, right: 40, bottom: 5 },

                titlePadding: { left: 90, top: 0, right: 0, bottom: 10 },

                source: dataAdapter,

                xAxis:

                {

                    dataField: 'RecordTime',
                    type: 'date',
                    baseUnit: 'second',
                    flip: false,
                    gridLines: { visible: true },
                    showToolTips: false,

                    formatFunction: function (value) {

                        return $.jqx.dataFormat.formatdate(value, "hh:mm:ss", 'ru-ru');

                    },
 
                },

                colorScheme: 'scheme02',

                //valueAxis:

                //{
                   


                // //visible: true,

                //    //title: { text: "Time in minutes" }

                //},

                seriesGroups:

                    [

                          {

                              type: 'area',

                              series: [

                                      { dataField: 'errorMeterialA_Percent', displayText: 'errorMeterialA_Percent', opacity: 0.7, lineWidth: 1 }

                              ]

                          },
                        {

                            type: 'line',

                            series: [

                                  { dataField: 'realMeterialA', displayText: 'realMeterialA', opacity: 0.7, lineWidth:1  },
                                  { dataField: 'setMeterialA', displayText: 'setMeterialA', opacity: 1, lineWidth: 2 },

                            ]

                            }
                            

                      

                    ]

            };



            // setup the chart

            $('#jqxChart').jqxChart(settings);

            var ttimer = setInterval(function () {
               // $('#jqxChart').jqxChart().source = new $.jqx.dataAdapter(source);
                //$('#jqxChart').jqxChart().
                dataAdapter.dataBind();
                //$('#jqxChart').jqxChart('update');
               // $('#jqxChart').jqxChart(settings);
            }, 1000);

    </script>




